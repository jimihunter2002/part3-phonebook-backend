(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(13),c=t.n(r),l=t(14),u=t(2),i=function(e){return o.a.createElement("div",null,"filter shown with"," ",o.a.createElement("input",{value:e.value,onChange:e.onChange,id:"olu"}))},m=function(e){var n=e.handler;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:n.addName},o.a.createElement("div",null,"name:"," ",o.a.createElement("input",{type:"text",onChange:n.handleChangeName,value:n.newName,placeholder:"Bobby Benson",required:!0})),o.a.createElement("div",null,"number:"," ",o.a.createElement("input",{type:"tel",onChange:n.handleChangePhone,value:n.newPhone,required:!0,pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",placeholder:"079-532-6745"})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",style:{backgroundColor:n.addBtnColor}},"add"))))},d=function(e){var n=e.onClickHandler,t=e.bgColor;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"button",value:"delete",onClick:n,style:{backgroundColor:t}}))},f=function(e){var n=e.person,t=e.handler,r=Object(a.useState)(""),c=Object(u.a)(r,2),l=c[0],i=c[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(d,{onClickHandler:function(e){i("#429bf5"),setTimeout((function(){window.confirm("Delete ".concat(n.name))?t.onDeleteHandler(n):i("")}),0)},bgColor:l}),o.a.createElement("br",null))},s=function(e){var n=e.person,t=e.handler;return o.a.createElement(o.a.Fragment,null,n.name," ",n.phone,o.a.createElement(f,{person:n,handler:t}),o.a.createElement("br",null))},h=function(e){var n=e.listOfPeopleToShow,t=e.handler;return o.a.createElement(o.a.Fragment,null,n.map((function(e){return o.a.createElement(s,{key:e.id,person:e,handler:t})})))},b=t(3),p=t.n(b),E="https://helsinki-phonebook.herokuapp.com/api/persons",v=function(){return p.a.get(E).then((function(e){return e.data}))},g=function(e){return p.a.post(E,e).then((function(e){return e.data}))},C=function(e,n){return p.a.put("".concat(E,"/").concat(e),n).then((function(e){return e.data}))},w=function(e){return p.a.delete("".concat(E,"/").concat(e)).then((function(e){return e.data}))},O=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"error notification"},n)},j=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"success notification"},n)},k=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),d=Object(u.a)(c,2),f=d[0],s=d[1],b=Object(a.useState)(""),p=Object(u.a)(b,2),E=p[0],k=p[1],y=Object(a.useState)(""),P=Object(u.a)(y,2),T=P[0],S=P[1],N=Object(a.useState)(""),L=Object(u.a)(N,2),B=L[0],F=L[1],D=Object(a.useState)(null),H=Object(u.a)(D,2),q=H[0],x=H[1],J=Object(a.useState)(null),A=Object(u.a)(J,2),I=A[0],z=A[1];Object(a.useEffect)((function(){v().then((function(e){r(e)})).catch((function(e){return console.dir(e)}))}),[]);var G=function(e,n){return e.filter((function(e){return e.name.toLowerCase()===n.toLowerCase()}))},K=T?t.filter((function(e){return e.name.toLocaleLowerCase().includes(T.toLocaleLowerCase())})):t,M={newName:f,newPhone:E,addBtnColor:B,handleChangeName:function(e){var n=e.target.value;n=n.split(" ").filter((function(e){return e})).join(" "),s(n)},handleChangePhone:function(e){k(e.target.value)},addName:function(e){e.preventDefault(),F("#429bf5");var n={name:f,phone:E},a=G(t,n.name);if(0===a.length)setTimeout((function(){g(n).then((function(e){r(t.concat(e)),F(""),s(""),k(""),z("".concat(n.name," added to Phonebook")),setTimeout((function(){z(null)}),5e3)})).catch((function(e){x("Cannot add ".concat(n.name," to Phonebook try again later")),setTimeout((function(){x(null)}),5e3)}))}),0);else{var o=Object(u.a)(a,1)[0];if(o.phone===n.phone)setTimeout((function(){window.confirm("".concat(o.name," is already added to phonebook, replace the old number with a new one"))?(s(""),k(""),F("")):(s(n.name),k(n.phone),F(""))}),0);else{var c=Object(l.a)({},o,{phone:n.phone});setTimeout((function(){C(o.id,c).then((function(e){z("".concat(n.name," contact information updated successfully in Phonebook")),setTimeout((function(){z(null)}),5e3),r(t.map((function(n){return n.id!==o.id?n:e}))),s(""),k(""),F("")})).catch((function(e){x("".concat(n.name," contact information cannot be updated now try again later")),setTimeout((function(){x(null)}),5e3)}))}),0)}}},onDeleteHandler:function(e){w(e.id).then((function(n){z("".concat(e.name," removed successfully from Phonebook")),setTimeout((function(){z(null)}),5e3),v().then((function(e){return r(e)}))})).catch((function(n){x("Cannot delete ".concat(e.name," from Phonebook try again later")),setTimeout((function(){x(null)}),5e3)}))}};return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement("br",null),o.a.createElement(j,{message:I}),o.a.createElement(O,{message:q}),o.a.createElement(i,{value:T,onChange:function(e){S(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("h2",null,"Add a new"),o.a.createElement(m,{handler:M}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(h,{listOfPeopleToShow:K,handler:M}))};t(37);c.a.render(o.a.createElement(k,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.f8568b32.chunk.js.map